{"ast":null,"code":"import _isNil from \"lodash/isNil\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\nimport * as d3Shape from \"d3-shape\";\nimport { Helpers, Data, Style } from \"victory-core\";\n\nvar checkForValidText = function (text) {\n  if (text === undefined || text === null || _isFunction(text)) {\n    return text;\n  } else {\n    return \"\".concat(text);\n  }\n};\n\nvar getColor = function (style, colors, index) {\n  if (style && style.data && style.data.fill) {\n    return style.data.fill;\n  }\n\n  return colors && colors[index % colors.length];\n};\n\nvar getRadius = function (props, padding) {\n  if (typeof props.radius === \"number\") {\n    return props.radius;\n  }\n\n  return Math.min(props.width - padding.left - padding.right, props.height - padding.top - padding.bottom) / 2;\n};\n\nvar getOrigin = function (props, padding) {\n  var width = props.width,\n      height = props.height;\n  var origin = _isPlainObject(props.origin) ? props.origin : {};\n  return {\n    x: origin.x !== undefined ? origin.x : (padding.left - padding.right + width) / 2,\n    y: origin.y !== undefined ? origin.y : (padding.top - padding.bottom + height) / 2\n  };\n};\n\nvar getSlices = function (props, data) {\n  var padAngle = _isFunction(props.padAngle) ? 0 : props.padAngle;\n  var layoutFunction = d3Shape.pie().sort(null).startAngle(Helpers.degreesToRadians(props.startAngle)).endAngle(Helpers.degreesToRadians(props.endAngle)).padAngle(Helpers.degreesToRadians(padAngle)).value(function (datum) {\n    return datum._y;\n  });\n  return layoutFunction(data);\n};\n\nvar getCalculatedValues = function (props) {\n  var colorScale = props.colorScale;\n  var styleObject = Helpers.getDefaultStyles(props, \"pie\");\n  var style = Helpers.getStyles(props.style, styleObject, \"auto\", \"100%\");\n  var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n  var padding = Helpers.getPadding(props);\n  var defaultRadius = getRadius(props, padding);\n  var origin = getOrigin(props, padding);\n  var data = Data.getData(props);\n  var slices = getSlices(props, data);\n  return _assign({}, props, {\n    style: style,\n    colors: colors,\n    padding: padding,\n    defaultRadius: defaultRadius,\n    data: data,\n    slices: slices,\n    origin: origin\n  });\n};\n\nvar getSliceStyle = function (index, calculatedValues) {\n  var style = calculatedValues.style,\n      colors = calculatedValues.colors;\n  var fill = getColor(style, colors, index);\n  return _assign({\n    fill: fill\n  }, style.data);\n};\n\nvar getLabelText = function (props, datum, index) {\n  var text;\n\n  if (datum.label) {\n    text = datum.label;\n  } else if (Array.isArray(props.labels)) {\n    text = props.labels[index];\n  } else {\n    text = _isFunction(props.labels) ? props.labels : datum.xName || datum._x;\n  }\n\n  return checkForValidText(text);\n};\n\nvar getLabelArc = function (radius, labelRadius, style) {\n  var padding = style && style.padding || 0;\n  var arcRadius = labelRadius || radius + padding;\n  return d3Shape.arc().outerRadius(arcRadius).innerRadius(arcRadius);\n};\n\nvar getLabelPosition = function (arc, slice, position) {\n  var construct = {\n    startAngle: position === \"startAngle\" ? slice.startAngle : slice.endAngle,\n    endAngle: position === \"endAngle\" ? slice.endAngle : slice.startAngle\n  };\n\n  var clonedArc = _assign({}, slice, construct);\n\n  return arc.centroid(clonedArc);\n};\n\nvar getLabelOrientation = function (degree, labelPlacement) {\n  if (labelPlacement === \"perpendicular\") {\n    return degree > 90 && degree < 270 ? \"bottom\" : \"top\";\n  } else if (labelPlacement === \"parallel\") {\n    return degree >= 0 && degree <= 180 ? \"right\" : \"left\";\n  }\n\n  if (degree < 45 || degree > 315) {\n    return \"top\";\n  } else if (degree >= 45 && degree < 135) {\n    return \"right\";\n  } else if (degree >= 135 && degree < 225) {\n    return \"bottom\";\n  } else {\n    return \"left\";\n  }\n};\n\nvar getTextAnchor = function (orientation) {\n  if (orientation === \"top\" || orientation === \"bottom\") {\n    return \"middle\";\n  }\n\n  return orientation === \"right\" ? \"start\" : \"end\";\n};\n\nvar getVerticalAnchor = function (orientation) {\n  if (orientation === \"left\" || orientation === \"right\") {\n    return \"middle\";\n  }\n\n  return orientation === \"bottom\" ? \"start\" : \"end\";\n};\n\nvar getBaseLabelAngle = function (slice, labelPosition, labelStyle) {\n  var baseAngle = 0;\n\n  if (labelPosition.angle !== undefined) {\n    baseAngle = labelStyle.angle;\n  } else if (labelPosition === \"centroid\") {\n    baseAngle = Helpers.radiansToDegrees((slice.startAngle + slice.endAngle) / 2);\n  } else {\n    baseAngle = labelPosition === \"startAngle\" ? Helpers.radiansToDegrees(slice.startAngle) : Helpers.radiansToDegrees(slice.endAngle);\n  }\n\n  var positiveAngle = baseAngle < 0 ? 360 - baseAngle : baseAngle;\n  return positiveAngle % 360;\n};\n\nvar getLabelAngle = function (baseAngle, labelPlacement) {\n  if (labelPlacement === \"vertical\") {\n    return 0;\n  }\n\n  if (labelPlacement === \"parallel\") {\n    return baseAngle > 180 && baseAngle < 360 ? baseAngle + 90 : baseAngle - 90;\n  }\n\n  return baseAngle > 90 && baseAngle < 270 ? baseAngle - 180 : baseAngle;\n};\n\nvar getLabelProps = function (text, dataProps, calculatedValues) {\n  var index = dataProps.index,\n      datum = dataProps.datum,\n      data = dataProps.data,\n      slice = dataProps.slice,\n      labelComponent = dataProps.labelComponent,\n      theme = dataProps.theme;\n  var style = calculatedValues.style,\n      defaultRadius = calculatedValues.defaultRadius,\n      origin = calculatedValues.origin,\n      width = calculatedValues.width,\n      height = calculatedValues.height;\n  var labelRadius = Helpers.evaluateProp(calculatedValues.labelRadius, _assign({\n    text: text\n  }, dataProps));\n  var labelPosition = Helpers.evaluateProp(calculatedValues.labelPosition, _assign({\n    text: text\n  }, dataProps)) || \"centroid\";\n  var labelPlacement = Helpers.evaluateProp(calculatedValues.labelPlacement, _assign({\n    text: text\n  }, dataProps)) || \"vertical\";\n\n  var labelStyle = _assign({\n    padding: 0\n  }, style.labels);\n\n  var evaluatedStyle = Helpers.evaluateStyle(labelStyle, _assign({\n    labelRadius: labelRadius,\n    text: text\n  }, dataProps));\n  var labelArc = getLabelArc(defaultRadius, labelRadius, evaluatedStyle);\n  var position = getLabelPosition(labelArc, slice, labelPosition);\n  var baseAngle = getBaseLabelAngle(slice, labelPosition, labelStyle);\n  var labelAngle = getLabelAngle(baseAngle, labelPlacement);\n  var orientation = getLabelOrientation(baseAngle, labelPlacement);\n  var textAnchor = labelStyle.textAnchor || getTextAnchor(orientation);\n  var verticalAnchor = labelStyle.verticalAnchor || getVerticalAnchor(orientation);\n  var labelProps = {\n    width: width,\n    height: height,\n    index: index,\n    datum: datum,\n    data: data,\n    slice: slice,\n    orientation: orientation,\n    text: text,\n    style: labelStyle,\n    x: Math.round(position[0]) + origin.x,\n    y: Math.round(position[1]) + origin.y,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    angle: labelAngle\n  };\n\n  if (!Helpers.isTooltip(labelComponent)) {\n    return labelProps;\n  }\n\n  var tooltipTheme = theme && theme.tooltip || {};\n  return _defaults({}, labelProps, Helpers.omit(tooltipTheme, [\"style\"]));\n};\n\nexport var getBaseProps = function (props, fallbackProps) {\n  props = Helpers.modifyProps(props, fallbackProps, \"pie\");\n  var calculatedValues = getCalculatedValues(props);\n  var slices = calculatedValues.slices,\n      style = calculatedValues.style,\n      data = calculatedValues.data,\n      origin = calculatedValues.origin,\n      defaultRadius = calculatedValues.defaultRadius,\n      labels = calculatedValues.labels,\n      events = calculatedValues.events,\n      sharedEvents = calculatedValues.sharedEvents,\n      height = calculatedValues.height,\n      width = calculatedValues.width,\n      standalone = calculatedValues.standalone,\n      name = calculatedValues.name,\n      innerRadius = calculatedValues.innerRadius,\n      cornerRadius = calculatedValues.cornerRadius,\n      padAngle = calculatedValues.padAngle,\n      disableInlineStyles = calculatedValues.disableInlineStyles;\n  var radius = props.radius || defaultRadius;\n  var initialChildProps = {\n    parent: {\n      standalone: standalone,\n      height: height,\n      width: width,\n      slices: slices,\n      name: name,\n      style: style.parent\n    }\n  };\n  return slices.reduce(function (childProps, slice, index) {\n    var datum = _defaults({}, data[index], {\n      startAngle: Helpers.radiansToDegrees(slice.startAngle),\n      endAngle: Helpers.radiansToDegrees(slice.endAngle),\n      padAngle: Helpers.radiansToDegrees(slice.padAngle)\n    });\n\n    var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n    var dataProps = {\n      index: index,\n      slice: slice,\n      datum: datum,\n      data: data,\n      origin: origin,\n      innerRadius: innerRadius,\n      radius: radius,\n      cornerRadius: cornerRadius,\n      padAngle: padAngle,\n      style: disableInlineStyles ? {} : getSliceStyle(index, calculatedValues),\n      disableInlineStyles: disableInlineStyles\n    };\n    childProps[eventKey] = {\n      data: dataProps\n    };\n    var text = getLabelText(props, datum, index);\n\n    if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n      var evaluatedText = Helpers.evaluateProp(text, dataProps);\n      childProps[eventKey].labels = getLabelProps(evaluatedText, _assign({}, props, dataProps), calculatedValues);\n    }\n\n    return childProps;\n  }, initialChildProps);\n};","map":{"version":3,"sources":["/Users/paulhinh/dev/tamuhack/EduCoin/node_modules/victory-pie/es/helper-methods.js"],"names":["_isNil","_isPlainObject","_isFunction","_defaults","_assign","d3Shape","Helpers","Data","Style","checkForValidText","text","undefined","concat","getColor","style","colors","index","data","fill","length","getRadius","props","padding","radius","Math","min","width","left","right","height","top","bottom","getOrigin","origin","x","y","getSlices","padAngle","layoutFunction","pie","sort","startAngle","degreesToRadians","endAngle","value","datum","_y","getCalculatedValues","colorScale","styleObject","getDefaultStyles","getStyles","Array","isArray","getColorScale","getPadding","defaultRadius","getData","slices","getSliceStyle","calculatedValues","getLabelText","label","labels","xName","_x","getLabelArc","labelRadius","arcRadius","arc","outerRadius","innerRadius","getLabelPosition","slice","position","construct","clonedArc","centroid","getLabelOrientation","degree","labelPlacement","getTextAnchor","orientation","getVerticalAnchor","getBaseLabelAngle","labelPosition","labelStyle","baseAngle","angle","radiansToDegrees","positiveAngle","getLabelAngle","getLabelProps","dataProps","labelComponent","theme","evaluateProp","evaluatedStyle","evaluateStyle","labelArc","labelAngle","textAnchor","verticalAnchor","labelProps","round","isTooltip","tooltipTheme","tooltip","omit","getBaseProps","fallbackProps","modifyProps","events","sharedEvents","standalone","name","cornerRadius","disableInlineStyles","initialChildProps","parent","reduce","childProps","eventKey","evaluatedText"],"mappings":"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","sourcesContent":["import _isNil from \"lodash/isNil\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\nimport * as d3Shape from \"d3-shape\";\nimport { Helpers, Data, Style } from \"victory-core\";\n\nvar checkForValidText = function (text) {\n  if (text === undefined || text === null || _isFunction(text)) {\n    return text;\n  } else {\n    return \"\".concat(text);\n  }\n};\n\nvar getColor = function (style, colors, index) {\n  if (style && style.data && style.data.fill) {\n    return style.data.fill;\n  }\n\n  return colors && colors[index % colors.length];\n};\n\nvar getRadius = function (props, padding) {\n  if (typeof props.radius === \"number\") {\n    return props.radius;\n  }\n\n  return Math.min(props.width - padding.left - padding.right, props.height - padding.top - padding.bottom) / 2;\n};\n\nvar getOrigin = function (props, padding) {\n  var width = props.width,\n      height = props.height;\n  var origin = _isPlainObject(props.origin) ? props.origin : {};\n  return {\n    x: origin.x !== undefined ? origin.x : (padding.left - padding.right + width) / 2,\n    y: origin.y !== undefined ? origin.y : (padding.top - padding.bottom + height) / 2\n  };\n};\n\nvar getSlices = function (props, data) {\n  var padAngle = _isFunction(props.padAngle) ? 0 : props.padAngle;\n  var layoutFunction = d3Shape.pie().sort(null).startAngle(Helpers.degreesToRadians(props.startAngle)).endAngle(Helpers.degreesToRadians(props.endAngle)).padAngle(Helpers.degreesToRadians(padAngle)).value(function (datum) {\n    return datum._y;\n  });\n  return layoutFunction(data);\n};\n\nvar getCalculatedValues = function (props) {\n  var colorScale = props.colorScale;\n  var styleObject = Helpers.getDefaultStyles(props, \"pie\");\n  var style = Helpers.getStyles(props.style, styleObject, \"auto\", \"100%\");\n  var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n  var padding = Helpers.getPadding(props);\n  var defaultRadius = getRadius(props, padding);\n  var origin = getOrigin(props, padding);\n  var data = Data.getData(props);\n  var slices = getSlices(props, data);\n  return _assign({}, props, {\n    style: style,\n    colors: colors,\n    padding: padding,\n    defaultRadius: defaultRadius,\n    data: data,\n    slices: slices,\n    origin: origin\n  });\n};\n\nvar getSliceStyle = function (index, calculatedValues) {\n  var style = calculatedValues.style,\n      colors = calculatedValues.colors;\n  var fill = getColor(style, colors, index);\n  return _assign({\n    fill: fill\n  }, style.data);\n};\n\nvar getLabelText = function (props, datum, index) {\n  var text;\n\n  if (datum.label) {\n    text = datum.label;\n  } else if (Array.isArray(props.labels)) {\n    text = props.labels[index];\n  } else {\n    text = _isFunction(props.labels) ? props.labels : datum.xName || datum._x;\n  }\n\n  return checkForValidText(text);\n};\n\nvar getLabelArc = function (radius, labelRadius, style) {\n  var padding = style && style.padding || 0;\n  var arcRadius = labelRadius || radius + padding;\n  return d3Shape.arc().outerRadius(arcRadius).innerRadius(arcRadius);\n};\n\nvar getLabelPosition = function (arc, slice, position) {\n  var construct = {\n    startAngle: position === \"startAngle\" ? slice.startAngle : slice.endAngle,\n    endAngle: position === \"endAngle\" ? slice.endAngle : slice.startAngle\n  };\n\n  var clonedArc = _assign({}, slice, construct);\n\n  return arc.centroid(clonedArc);\n};\n\nvar getLabelOrientation = function (degree, labelPlacement) {\n  if (labelPlacement === \"perpendicular\") {\n    return degree > 90 && degree < 270 ? \"bottom\" : \"top\";\n  } else if (labelPlacement === \"parallel\") {\n    return degree >= 0 && degree <= 180 ? \"right\" : \"left\";\n  }\n\n  if (degree < 45 || degree > 315) {\n    return \"top\";\n  } else if (degree >= 45 && degree < 135) {\n    return \"right\";\n  } else if (degree >= 135 && degree < 225) {\n    return \"bottom\";\n  } else {\n    return \"left\";\n  }\n};\n\nvar getTextAnchor = function (orientation) {\n  if (orientation === \"top\" || orientation === \"bottom\") {\n    return \"middle\";\n  }\n\n  return orientation === \"right\" ? \"start\" : \"end\";\n};\n\nvar getVerticalAnchor = function (orientation) {\n  if (orientation === \"left\" || orientation === \"right\") {\n    return \"middle\";\n  }\n\n  return orientation === \"bottom\" ? \"start\" : \"end\";\n};\n\nvar getBaseLabelAngle = function (slice, labelPosition, labelStyle) {\n  var baseAngle = 0;\n\n  if (labelPosition.angle !== undefined) {\n    baseAngle = labelStyle.angle;\n  } else if (labelPosition === \"centroid\") {\n    baseAngle = Helpers.radiansToDegrees((slice.startAngle + slice.endAngle) / 2);\n  } else {\n    baseAngle = labelPosition === \"startAngle\" ? Helpers.radiansToDegrees(slice.startAngle) : Helpers.radiansToDegrees(slice.endAngle);\n  }\n\n  var positiveAngle = baseAngle < 0 ? 360 - baseAngle : baseAngle;\n  return positiveAngle % 360;\n};\n\nvar getLabelAngle = function (baseAngle, labelPlacement) {\n  if (labelPlacement === \"vertical\") {\n    return 0;\n  }\n\n  if (labelPlacement === \"parallel\") {\n    return baseAngle > 180 && baseAngle < 360 ? baseAngle + 90 : baseAngle - 90;\n  }\n\n  return baseAngle > 90 && baseAngle < 270 ? baseAngle - 180 : baseAngle;\n};\n\nvar getLabelProps = function (text, dataProps, calculatedValues) {\n  var index = dataProps.index,\n      datum = dataProps.datum,\n      data = dataProps.data,\n      slice = dataProps.slice,\n      labelComponent = dataProps.labelComponent,\n      theme = dataProps.theme;\n  var style = calculatedValues.style,\n      defaultRadius = calculatedValues.defaultRadius,\n      origin = calculatedValues.origin,\n      width = calculatedValues.width,\n      height = calculatedValues.height;\n  var labelRadius = Helpers.evaluateProp(calculatedValues.labelRadius, _assign({\n    text: text\n  }, dataProps));\n  var labelPosition = Helpers.evaluateProp(calculatedValues.labelPosition, _assign({\n    text: text\n  }, dataProps)) || \"centroid\";\n  var labelPlacement = Helpers.evaluateProp(calculatedValues.labelPlacement, _assign({\n    text: text\n  }, dataProps)) || \"vertical\";\n\n  var labelStyle = _assign({\n    padding: 0\n  }, style.labels);\n\n  var evaluatedStyle = Helpers.evaluateStyle(labelStyle, _assign({\n    labelRadius: labelRadius,\n    text: text\n  }, dataProps));\n  var labelArc = getLabelArc(defaultRadius, labelRadius, evaluatedStyle);\n  var position = getLabelPosition(labelArc, slice, labelPosition);\n  var baseAngle = getBaseLabelAngle(slice, labelPosition, labelStyle);\n  var labelAngle = getLabelAngle(baseAngle, labelPlacement);\n  var orientation = getLabelOrientation(baseAngle, labelPlacement);\n  var textAnchor = labelStyle.textAnchor || getTextAnchor(orientation);\n  var verticalAnchor = labelStyle.verticalAnchor || getVerticalAnchor(orientation);\n  var labelProps = {\n    width: width,\n    height: height,\n    index: index,\n    datum: datum,\n    data: data,\n    slice: slice,\n    orientation: orientation,\n    text: text,\n    style: labelStyle,\n    x: Math.round(position[0]) + origin.x,\n    y: Math.round(position[1]) + origin.y,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    angle: labelAngle\n  };\n\n  if (!Helpers.isTooltip(labelComponent)) {\n    return labelProps;\n  }\n\n  var tooltipTheme = theme && theme.tooltip || {};\n  return _defaults({}, labelProps, Helpers.omit(tooltipTheme, [\"style\"]));\n};\n\nexport var getBaseProps = function (props, fallbackProps) {\n  props = Helpers.modifyProps(props, fallbackProps, \"pie\");\n  var calculatedValues = getCalculatedValues(props);\n  var slices = calculatedValues.slices,\n      style = calculatedValues.style,\n      data = calculatedValues.data,\n      origin = calculatedValues.origin,\n      defaultRadius = calculatedValues.defaultRadius,\n      labels = calculatedValues.labels,\n      events = calculatedValues.events,\n      sharedEvents = calculatedValues.sharedEvents,\n      height = calculatedValues.height,\n      width = calculatedValues.width,\n      standalone = calculatedValues.standalone,\n      name = calculatedValues.name,\n      innerRadius = calculatedValues.innerRadius,\n      cornerRadius = calculatedValues.cornerRadius,\n      padAngle = calculatedValues.padAngle,\n      disableInlineStyles = calculatedValues.disableInlineStyles;\n  var radius = props.radius || defaultRadius;\n  var initialChildProps = {\n    parent: {\n      standalone: standalone,\n      height: height,\n      width: width,\n      slices: slices,\n      name: name,\n      style: style.parent\n    }\n  };\n  return slices.reduce(function (childProps, slice, index) {\n    var datum = _defaults({}, data[index], {\n      startAngle: Helpers.radiansToDegrees(slice.startAngle),\n      endAngle: Helpers.radiansToDegrees(slice.endAngle),\n      padAngle: Helpers.radiansToDegrees(slice.padAngle)\n    });\n\n    var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n    var dataProps = {\n      index: index,\n      slice: slice,\n      datum: datum,\n      data: data,\n      origin: origin,\n      innerRadius: innerRadius,\n      radius: radius,\n      cornerRadius: cornerRadius,\n      padAngle: padAngle,\n      style: disableInlineStyles ? {} : getSliceStyle(index, calculatedValues),\n      disableInlineStyles: disableInlineStyles\n    };\n    childProps[eventKey] = {\n      data: dataProps\n    };\n    var text = getLabelText(props, datum, index);\n\n    if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n      var evaluatedText = Helpers.evaluateProp(text, dataProps);\n      childProps[eventKey].labels = getLabelProps(evaluatedText, _assign({}, props, dataProps), calculatedValues);\n    }\n\n    return childProps;\n  }, initialChildProps);\n};"]},"metadata":{},"sourceType":"module"}