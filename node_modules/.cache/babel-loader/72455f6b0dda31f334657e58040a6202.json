{"ast":null,"code":"import _isPlainObject from \"lodash/isPlainObject\";\nimport _values from \"lodash/values\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _groupBy from \"lodash/groupBy\";\nimport _uniq from \"lodash/uniq\";\nimport _isFunction from \"lodash/isFunction\";\nimport _flatten from \"lodash/flatten\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from \"react\";\nimport * as Axis from \"./axis\";\nimport * as Style from \"./style\";\nimport * as Data from \"./data\";\nimport * as Domain from \"./domain\";\nimport * as Events from \"./events\";\nimport * as Collection from \"./collection\";\nimport * as Helpers from \"./helpers\";\nimport * as Scale from \"./scale\";\nimport * as Log from \"./log\";\nexport function addBinsToParentPropsIfHistogram(_ref) {\n  var children = _ref.children,\n      props = _ref.props,\n      childComponents = _ref.childComponents,\n      parentProps = _ref.parentProps;\n  var someChildrenAreHistograms = children.some(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n  var allChildrenAreHistograms = someChildrenAreHistograms && children.length && children.every(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n\n  if (someChildrenAreHistograms && !allChildrenAreHistograms) {\n    Log.warn(\"VictoryHistogram only supports being stacked with other VictoryHistogram components. Check to make sure that you are only passing VictoryHistogram components to VictoryStack\");\n  } // if we are stacking histograms, we need to generate explicit bins\n  // or else each histogram may end up having different bins\n\n\n  if (!allChildrenAreHistograms) {\n    return parentProps;\n  }\n\n  var childBins = props.bins || childComponents[0].props.bins; // if we have explicit bins then we don't need to calculate them\n\n  if (!Array.isArray(childBins)) {\n    var combinedData = children.reduce(function (memo, child) {\n      var xAccessor = Helpers.createAccessor(child.props.x || \"x\");\n      return memo.concat(child.props.data.map(function (datum) {\n        return {\n          x: xAccessor(datum)\n        };\n      }));\n    }, []); // use the same function to generate bins as VictoryHistogram but with\n    // the combined data from above, then get explicit bins from that\n\n    var getFormattedHistogramData = children[0].type.getFormattedData;\n    childBins = getFormattedHistogramData({\n      data: combinedData,\n      bins: childBins\n    }).reduce(function (memo, _ref2, index) {\n      var x0 = _ref2.x0,\n          x1 = _ref2.x1;\n      return index === 0 ? memo.concat([x0, x1]) : memo.concat(x1);\n    }, []);\n  }\n\n  return _objectSpread({}, parentProps, {\n    bins: childBins\n  });\n}\nexport function getDataFromChildren(props, childComponents) {\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain;\n  var parentProps = {\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    categories: categories,\n    minDomain: minDomain,\n    maxDomain: maxDomain\n  };\n  var stack = 0;\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  parentProps = addBinsToParentPropsIfHistogram({\n    children: children,\n    props: props,\n    childComponents: childComponents,\n    parentProps: parentProps\n  });\n\n  var iteratee = function (child, childName, parent) {\n    var childProps = _assign({}, child.props, parentProps);\n\n    var childData;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      child = parent ? React.cloneElement(child, parent.props) : child;\n      childData = child.type.getData(childProps);\n    } else {\n      childData = Data.getData(childProps);\n    }\n\n    stack += 1;\n    return childData.map(function (datum, index) {\n      return _assign({\n        _stack: stack,\n        _group: index\n      }, datum);\n    });\n  };\n\n  var stacked = children.filter(function (c) {\n    return c.type && c.type.role === \"stack\";\n  }).length;\n\n  var combine = function (memo, val) {\n    return memo.concat(_uniqBy(val, \"_group\"));\n  };\n\n  var datasets = Helpers.reduceChildren(children, iteratee, props, [], combine);\n  var group = stacked ? \"_group\" : \"_stack\";\n  return _values(_groupBy(datasets, group));\n}\nexport function getData(props, childComponents) {\n  if (props.data) {\n    return Data.getData(props);\n  }\n\n  childComponents = childComponents || React.Children.toArray(props.children);\n  return getDataFromChildren(childComponents);\n}\nexport function getWidth(props, groupLength, seriesLength) {\n  var datasets = props.datasets,\n      horizontal = props.horizontal;\n  var range = horizontal ? Helpers.getRange(props, \"y\") : Helpers.getRange(props, \"x\");\n  var extent = Math.abs(range[1] - range[0]);\n  seriesLength = seriesLength !== undefined ? seriesLength : Array.isArray(datasets[0]) && datasets[0].length || 1;\n  groupLength = groupLength || datasets.length;\n  var bars = groupLength * seriesLength;\n  var barRatio = 0.5;\n  return Math.round(barRatio * extent / bars);\n}\nexport function getDefaultDomainPadding(props, axis, childComponents) {\n  if (props.polar || axis !== \"x\") {\n    return undefined;\n  }\n\n  var groupComponent = childComponents.filter(function (child) {\n    return child.type && child.type.role && child.type.role === \"group\";\n  });\n\n  if (groupComponent.length < 1) {\n    return undefined;\n  }\n\n  var _groupComponent$0$pro = groupComponent[0].props,\n      offset = _groupComponent$0$pro.offset,\n      children = _groupComponent$0$pro.children;\n\n  if (!offset) {\n    return undefined;\n  }\n\n  var firstChild = Array.isArray(children) && children[0];\n\n  if (!firstChild) {\n    return undefined;\n  }\n\n  var barWidth = firstChild.props.barWidth;\n  var dataLength = firstChild.props.data && firstChild.props.data.length || 1;\n\n  if (firstChild && firstChild.type.role === \"stack\") {\n    var nestedChild = firstChild.props.children && firstChild.props.children[0];\n\n    if (!nestedChild) {\n      return undefined;\n    }\n\n    barWidth = nestedChild.props.barWidth;\n    dataLength = firstChild.props.children.length;\n  }\n\n  var width = barWidth || getWidth(props, children.length, dataLength);\n  return {\n    x: width * children.length / 2 + (offset - width * ((children.length - 1) / 2))\n  };\n}\nexport function getDomainFromChildren(props, axis, childComponents) {\n  // eslint-disable-line max-statements, complexity, max-len\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  var parentData = props.data ? Data.getData(props, axis) : undefined;\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain,\n      horizontal = props.horizontal;\n  var baseParentProps = {\n    horizontal: horizontal,\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    minDomain: minDomain,\n    maxDomain: maxDomain,\n    categories: categories\n  };\n  var parentProps = parentData ? _assign(baseParentProps, {\n    data: parentData\n  }) : baseParentProps;\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, parentProps);\n\n    if (!Domain.isDomainComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getDomain)) {\n      return child.props && child.type.getDomain(sharedProps, axis);\n    } else {\n      return Domain.getDomain(sharedProps, axis);\n    }\n  };\n\n  var childDomains = Helpers.reduceChildren(children, iteratee, props);\n  var min = childDomains.length === 0 ? 0 : Collection.getMinValue(childDomains);\n  var max = childDomains.length === 0 ? 1 : Collection.getMaxValue(childDomains);\n  return [min, max];\n}\nexport function getDomain(props, axis, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var propsDomain = Domain.getDomainFromProps(props, axis);\n  var domainPadding = getDefaultDomainPadding(props, axis, childComponents);\n  var domain;\n\n  if (propsDomain) {\n    domain = propsDomain;\n  } else {\n    var minDomain = Domain.getMinFromProps(props, axis);\n    var maxDomain = Domain.getMaxFromProps(props, axis);\n    var dataset = (props.data || props.y) && Data.getData(props);\n    var dataDomain = dataset ? Domain.getDomainFromData(props, axis, dataset) : [];\n    var childDomain = getDomainFromChildren(props, axis, childComponents);\n    var min = minDomain || Collection.getMinValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n    var max = maxDomain || Collection.getMaxValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n    domain = Domain.getDomainFromMinMax(min, max);\n  }\n\n  return Domain.formatDomain(domain, _assign({\n    domainPadding: domainPadding\n  }, props), axis);\n}\nexport function getScale(props, axis, childComponents) {\n  if (props.data) {\n    return Scale.getBaseScale(props, axis);\n  }\n\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, {\n      horizontal: props.horizontal\n    });\n\n    return Scale.getScaleType(sharedProps, axis);\n  };\n\n  var childScale = _uniq(Helpers.reduceChildren(children, iteratee, props)); // default to linear scale if more than one uniq scale type is given by children\n\n\n  return childScale.length > 1 ? Scale.getScaleFromName(\"linear\") : Scale.getScaleFromName(childScale[0]);\n}\nexport function getAllEvents(props) {\n  var components = [\"groupComponent\", \"containerComponent\", \"labelComponent\"];\n  var componentEvents = Events.getComponentEvents(props, components);\n  var events = props.events;\n\n  if (Array.isArray(componentEvents)) {\n    events = Array.isArray(props.events) ? componentEvents.concat.apply(componentEvents, _toConsumableArray(props.events)) : componentEvents;\n  }\n\n  return events || [];\n}\nexport function getColor(calculatedProps, child, index) {\n  // check for styles first\n  var style = calculatedProps.style;\n  var colorScale = calculatedProps.colorScale,\n      color = calculatedProps.color;\n\n  if (style && style.data && style.data.fill) {\n    return style.data.fill;\n  }\n\n  colorScale = child.props && child.props.colorScale ? child.props.colorScale : colorScale;\n  color = child.props && child.props.color ? child.props.color : color;\n\n  if (!colorScale && !color) {\n    return undefined;\n  }\n\n  var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n  return color || colors[index % colors.length];\n}\nexport function getStyle(theme, style, role) {\n  var defaultStyle = theme && theme[role] && theme[role].style ? theme[role].style : {};\n  return Helpers.getStyles(style, defaultStyle);\n}\nexport function getChildStyle(child, index, calculatedProps) {\n  var style = calculatedProps.style,\n      role = calculatedProps.role;\n  var childStyle = child.props.style || {};\n\n  if (Array.isArray(childStyle)) {\n    return childStyle;\n  }\n\n  var childRole = child.type && child.type.role;\n  var defaultFill = childRole === \"stack\" ? undefined : getColor(calculatedProps, child, index);\n  var defaultColor = childRole === \"line\" ? {\n    fill: \"none\",\n    stroke: defaultFill\n  } : {\n    fill: defaultFill\n  };\n  var dataWidth = role === \"stack\" ? {} : {\n    width: getWidth(calculatedProps)\n  };\n\n  var dataStyle = _defaults({}, childStyle.data, _assign({}, dataWidth, style.data, defaultColor));\n\n  var labelsStyle = _defaults({}, childStyle.labels, style.labels);\n\n  return {\n    parent: style.parent,\n    data: dataStyle,\n    labels: labelsStyle\n  };\n}\nexport function getStringsFromCategories(childComponents, axis) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n\n    if (!Domain.isDomainComponent(child) || !childProps.categories) {\n      return null;\n    } else {\n      var categories = childProps.categories && !Array.isArray(childProps.categories) ? childProps.categories[axis] : childProps.props.categories;\n      var categoryStrings = categories && categories.filter(function (val) {\n        return typeof val === \"string\";\n      });\n      return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n    }\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee);\n}\nexport function getStringsFromData(childComponents) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n    var data;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      data = child.type.getData(childProps);\n    } else {\n      data = Data.getData(childProps);\n    }\n\n    return data.map(function (d) {\n      return {\n        x: d.xName,\n        y: d.yName\n      };\n    });\n  };\n\n  var initialMemo = {\n    x: [],\n    y: []\n  };\n\n  var combine = function (memo, datum) {\n    var x = Array.isArray(datum) ? datum.map(function (d) {\n      return d.x;\n    }).filter(Boolean) : datum.x;\n    var y = Array.isArray(datum) ? datum.map(function (d) {\n      return d.y;\n    }).filter(Boolean) : datum.y;\n    return {\n      x: x !== undefined ? memo.x.concat(x) : memo.x,\n      y: y !== undefined ? memo.y.concat(y) : memo.y\n    };\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee, {}, initialMemo, combine);\n}\nexport function getCategoryAndAxisStringsFromChildren(props, axis, childComponents) {\n  var categories = _isPlainObject(props.categories) ? props.categories[axis] : props.categories;\n  var axisComponent = Axis.getAxisComponent(childComponents, axis);\n  var axisStrings = axisComponent ? Data.getStringsFromAxes(axisComponent.props, axis) : [];\n  var categoryStrings = categories || getStringsFromCategories(childComponents, axis);\n  return _uniq(_flatten(_toConsumableArray(categoryStrings).concat(_toConsumableArray(axisStrings))));\n}\nexport function getStringsFromChildren(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var xStrings = getCategoryAndAxisStringsFromChildren(props, \"x\", childComponents);\n  var yStrings = getCategoryAndAxisStringsFromChildren(props, \"y\", childComponents);\n  var dataStrings = getStringsFromData(childComponents);\n  return {\n    x: _uniq(_flatten(_toConsumableArray(xStrings).concat(_toConsumableArray(dataStrings.x)))),\n    y: _uniq(_flatten(_toConsumableArray(yStrings).concat(_toConsumableArray(dataStrings.y))))\n  };\n}\nexport function getCategories(props, childComponents, allStrings) {\n  var xPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.x : props.categories;\n  var yPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.y : props.categories;\n  var fallbackRequired = !xPropCategories || !yPropCategories;\n  var fallbackProps = fallbackRequired ? allStrings || getStringsFromChildren(props, childComponents) : {};\n  var xCategories = xPropCategories || fallbackProps.x;\n  var yCategories = yPropCategories || fallbackProps.y;\n  return {\n    x: xCategories.length > 0 ? xCategories : undefined,\n    y: yCategories.length > 0 ? yCategories : undefined\n  };\n}","map":{"version":3,"sources":["/Users/paulhinh/dev/tamuhack/EduCoin/node_modules/victory-core/es/victory-util/wrapper.js"],"names":["_isPlainObject","_values","_uniqBy","_groupBy","_uniq","_isFunction","_flatten","_defaults","_assign","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","isArray","i","arr2","length","_objectSpread","target","arguments","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","React","Axis","Style","Data","Domain","Events","Collection","Helpers","Scale","Log","addBinsToParentPropsIfHistogram","_ref","children","props","childComponents","parentProps","someChildrenAreHistograms","some","child","type","role","allChildrenAreHistograms","every","warn","childBins","bins","combinedData","reduce","memo","xAccessor","createAccessor","x","data","map","datum","getFormattedHistogramData","getFormattedData","_ref2","index","x0","x1","getDataFromChildren","polar","startAngle","endAngle","categories","minDomain","maxDomain","stack","slice","Children","toArray","iteratee","childName","parent","childProps","childData","isDataComponent","getData","cloneElement","_stack","_group","stacked","c","combine","val","datasets","reduceChildren","group","getWidth","groupLength","seriesLength","horizontal","range","getRange","extent","Math","abs","undefined","bars","barRatio","round","getDefaultDomainPadding","axis","groupComponent","_groupComponent$0$pro","offset","firstChild","barWidth","dataLength","nestedChild","width","getDomainFromChildren","parentData","baseParentProps","sharedProps","isDomainComponent","getDomain","childDomains","min","getMinValue","max","getMaxValue","propsDomain","getDomainFromProps","domainPadding","domain","getMinFromProps","getMaxFromProps","dataset","y","dataDomain","getDomainFromData","childDomain","getDomainFromMinMax","formatDomain","getScale","getBaseScale","getScaleType","childScale","getScaleFromName","getAllEvents","components","componentEvents","getComponentEvents","events","apply","getColor","calculatedProps","style","colorScale","color","fill","colors","getColorScale","getStyle","theme","defaultStyle","getStyles","getChildStyle","childStyle","childRole","defaultFill","defaultColor","stroke","dataWidth","dataStyle","labelsStyle","labels","getStringsFromCategories","categoryStrings","removeUndefined","getStringsFromData","d","xName","yName","initialMemo","Boolean","getCategoryAndAxisStringsFromChildren","axisComponent","getAxisComponent","axisStrings","getStringsFromAxes","getStringsFromChildren","xStrings","yStrings","dataStrings","getCategories","allStrings","xPropCategories","yPropCategories","fallbackRequired","fallbackProps","xCategories","yCategories"],"mappings":"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","sourcesContent":["import _isPlainObject from \"lodash/isPlainObject\";\nimport _values from \"lodash/values\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _groupBy from \"lodash/groupBy\";\nimport _uniq from \"lodash/uniq\";\nimport _isFunction from \"lodash/isFunction\";\nimport _flatten from \"lodash/flatten\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport * as Axis from \"./axis\";\nimport * as Style from \"./style\";\nimport * as Data from \"./data\";\nimport * as Domain from \"./domain\";\nimport * as Events from \"./events\";\nimport * as Collection from \"./collection\";\nimport * as Helpers from \"./helpers\";\nimport * as Scale from \"./scale\";\nimport * as Log from \"./log\";\nexport function addBinsToParentPropsIfHistogram(_ref) {\n  var children = _ref.children,\n      props = _ref.props,\n      childComponents = _ref.childComponents,\n      parentProps = _ref.parentProps;\n  var someChildrenAreHistograms = children.some(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n  var allChildrenAreHistograms = someChildrenAreHistograms && children.length && children.every(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n\n  if (someChildrenAreHistograms && !allChildrenAreHistograms) {\n    Log.warn(\"VictoryHistogram only supports being stacked with other VictoryHistogram components. Check to make sure that you are only passing VictoryHistogram components to VictoryStack\");\n  } // if we are stacking histograms, we need to generate explicit bins\n  // or else each histogram may end up having different bins\n\n\n  if (!allChildrenAreHistograms) {\n    return parentProps;\n  }\n\n  var childBins = props.bins || childComponents[0].props.bins; // if we have explicit bins then we don't need to calculate them\n\n  if (!Array.isArray(childBins)) {\n    var combinedData = children.reduce(function (memo, child) {\n      var xAccessor = Helpers.createAccessor(child.props.x || \"x\");\n      return memo.concat(child.props.data.map(function (datum) {\n        return {\n          x: xAccessor(datum)\n        };\n      }));\n    }, []); // use the same function to generate bins as VictoryHistogram but with\n    // the combined data from above, then get explicit bins from that\n\n    var getFormattedHistogramData = children[0].type.getFormattedData;\n    childBins = getFormattedHistogramData({\n      data: combinedData,\n      bins: childBins\n    }).reduce(function (memo, _ref2, index) {\n      var x0 = _ref2.x0,\n          x1 = _ref2.x1;\n      return index === 0 ? memo.concat([x0, x1]) : memo.concat(x1);\n    }, []);\n  }\n\n  return _objectSpread({}, parentProps, {\n    bins: childBins\n  });\n}\nexport function getDataFromChildren(props, childComponents) {\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain;\n  var parentProps = {\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    categories: categories,\n    minDomain: minDomain,\n    maxDomain: maxDomain\n  };\n  var stack = 0;\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  parentProps = addBinsToParentPropsIfHistogram({\n    children: children,\n    props: props,\n    childComponents: childComponents,\n    parentProps: parentProps\n  });\n\n  var iteratee = function (child, childName, parent) {\n    var childProps = _assign({}, child.props, parentProps);\n\n    var childData;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      child = parent ? React.cloneElement(child, parent.props) : child;\n      childData = child.type.getData(childProps);\n    } else {\n      childData = Data.getData(childProps);\n    }\n\n    stack += 1;\n    return childData.map(function (datum, index) {\n      return _assign({\n        _stack: stack,\n        _group: index\n      }, datum);\n    });\n  };\n\n  var stacked = children.filter(function (c) {\n    return c.type && c.type.role === \"stack\";\n  }).length;\n\n  var combine = function (memo, val) {\n    return memo.concat(_uniqBy(val, \"_group\"));\n  };\n\n  var datasets = Helpers.reduceChildren(children, iteratee, props, [], combine);\n  var group = stacked ? \"_group\" : \"_stack\";\n  return _values(_groupBy(datasets, group));\n}\nexport function getData(props, childComponents) {\n  if (props.data) {\n    return Data.getData(props);\n  }\n\n  childComponents = childComponents || React.Children.toArray(props.children);\n  return getDataFromChildren(childComponents);\n}\nexport function getWidth(props, groupLength, seriesLength) {\n  var datasets = props.datasets,\n      horizontal = props.horizontal;\n  var range = horizontal ? Helpers.getRange(props, \"y\") : Helpers.getRange(props, \"x\");\n  var extent = Math.abs(range[1] - range[0]);\n  seriesLength = seriesLength !== undefined ? seriesLength : Array.isArray(datasets[0]) && datasets[0].length || 1;\n  groupLength = groupLength || datasets.length;\n  var bars = groupLength * seriesLength;\n  var barRatio = 0.5;\n  return Math.round(barRatio * extent / bars);\n}\nexport function getDefaultDomainPadding(props, axis, childComponents) {\n  if (props.polar || axis !== \"x\") {\n    return undefined;\n  }\n\n  var groupComponent = childComponents.filter(function (child) {\n    return child.type && child.type.role && child.type.role === \"group\";\n  });\n\n  if (groupComponent.length < 1) {\n    return undefined;\n  }\n\n  var _groupComponent$0$pro = groupComponent[0].props,\n      offset = _groupComponent$0$pro.offset,\n      children = _groupComponent$0$pro.children;\n\n  if (!offset) {\n    return undefined;\n  }\n\n  var firstChild = Array.isArray(children) && children[0];\n\n  if (!firstChild) {\n    return undefined;\n  }\n\n  var barWidth = firstChild.props.barWidth;\n  var dataLength = firstChild.props.data && firstChild.props.data.length || 1;\n\n  if (firstChild && firstChild.type.role === \"stack\") {\n    var nestedChild = firstChild.props.children && firstChild.props.children[0];\n\n    if (!nestedChild) {\n      return undefined;\n    }\n\n    barWidth = nestedChild.props.barWidth;\n    dataLength = firstChild.props.children.length;\n  }\n\n  var width = barWidth || getWidth(props, children.length, dataLength);\n  return {\n    x: width * children.length / 2 + (offset - width * ((children.length - 1) / 2))\n  };\n}\nexport function getDomainFromChildren(props, axis, childComponents) {\n  // eslint-disable-line max-statements, complexity, max-len\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  var parentData = props.data ? Data.getData(props, axis) : undefined;\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain,\n      horizontal = props.horizontal;\n  var baseParentProps = {\n    horizontal: horizontal,\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    minDomain: minDomain,\n    maxDomain: maxDomain,\n    categories: categories\n  };\n  var parentProps = parentData ? _assign(baseParentProps, {\n    data: parentData\n  }) : baseParentProps;\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, parentProps);\n\n    if (!Domain.isDomainComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getDomain)) {\n      return child.props && child.type.getDomain(sharedProps, axis);\n    } else {\n      return Domain.getDomain(sharedProps, axis);\n    }\n  };\n\n  var childDomains = Helpers.reduceChildren(children, iteratee, props);\n  var min = childDomains.length === 0 ? 0 : Collection.getMinValue(childDomains);\n  var max = childDomains.length === 0 ? 1 : Collection.getMaxValue(childDomains);\n  return [min, max];\n}\nexport function getDomain(props, axis, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var propsDomain = Domain.getDomainFromProps(props, axis);\n  var domainPadding = getDefaultDomainPadding(props, axis, childComponents);\n  var domain;\n\n  if (propsDomain) {\n    domain = propsDomain;\n  } else {\n    var minDomain = Domain.getMinFromProps(props, axis);\n    var maxDomain = Domain.getMaxFromProps(props, axis);\n    var dataset = (props.data || props.y) && Data.getData(props);\n    var dataDomain = dataset ? Domain.getDomainFromData(props, axis, dataset) : [];\n    var childDomain = getDomainFromChildren(props, axis, childComponents);\n    var min = minDomain || Collection.getMinValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n    var max = maxDomain || Collection.getMaxValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n    domain = Domain.getDomainFromMinMax(min, max);\n  }\n\n  return Domain.formatDomain(domain, _assign({\n    domainPadding: domainPadding\n  }, props), axis);\n}\nexport function getScale(props, axis, childComponents) {\n  if (props.data) {\n    return Scale.getBaseScale(props, axis);\n  }\n\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, {\n      horizontal: props.horizontal\n    });\n\n    return Scale.getScaleType(sharedProps, axis);\n  };\n\n  var childScale = _uniq(Helpers.reduceChildren(children, iteratee, props)); // default to linear scale if more than one uniq scale type is given by children\n\n\n  return childScale.length > 1 ? Scale.getScaleFromName(\"linear\") : Scale.getScaleFromName(childScale[0]);\n}\nexport function getAllEvents(props) {\n  var components = [\"groupComponent\", \"containerComponent\", \"labelComponent\"];\n  var componentEvents = Events.getComponentEvents(props, components);\n  var events = props.events;\n\n  if (Array.isArray(componentEvents)) {\n    events = Array.isArray(props.events) ? componentEvents.concat.apply(componentEvents, _toConsumableArray(props.events)) : componentEvents;\n  }\n\n  return events || [];\n}\nexport function getColor(calculatedProps, child, index) {\n  // check for styles first\n  var style = calculatedProps.style;\n  var colorScale = calculatedProps.colorScale,\n      color = calculatedProps.color;\n\n  if (style && style.data && style.data.fill) {\n    return style.data.fill;\n  }\n\n  colorScale = child.props && child.props.colorScale ? child.props.colorScale : colorScale;\n  color = child.props && child.props.color ? child.props.color : color;\n\n  if (!colorScale && !color) {\n    return undefined;\n  }\n\n  var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n  return color || colors[index % colors.length];\n}\nexport function getStyle(theme, style, role) {\n  var defaultStyle = theme && theme[role] && theme[role].style ? theme[role].style : {};\n  return Helpers.getStyles(style, defaultStyle);\n}\nexport function getChildStyle(child, index, calculatedProps) {\n  var style = calculatedProps.style,\n      role = calculatedProps.role;\n  var childStyle = child.props.style || {};\n\n  if (Array.isArray(childStyle)) {\n    return childStyle;\n  }\n\n  var childRole = child.type && child.type.role;\n  var defaultFill = childRole === \"stack\" ? undefined : getColor(calculatedProps, child, index);\n  var defaultColor = childRole === \"line\" ? {\n    fill: \"none\",\n    stroke: defaultFill\n  } : {\n    fill: defaultFill\n  };\n  var dataWidth = role === \"stack\" ? {} : {\n    width: getWidth(calculatedProps)\n  };\n\n  var dataStyle = _defaults({}, childStyle.data, _assign({}, dataWidth, style.data, defaultColor));\n\n  var labelsStyle = _defaults({}, childStyle.labels, style.labels);\n\n  return {\n    parent: style.parent,\n    data: dataStyle,\n    labels: labelsStyle\n  };\n}\nexport function getStringsFromCategories(childComponents, axis) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n\n    if (!Domain.isDomainComponent(child) || !childProps.categories) {\n      return null;\n    } else {\n      var categories = childProps.categories && !Array.isArray(childProps.categories) ? childProps.categories[axis] : childProps.props.categories;\n      var categoryStrings = categories && categories.filter(function (val) {\n        return typeof val === \"string\";\n      });\n      return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n    }\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee);\n}\nexport function getStringsFromData(childComponents) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n    var data;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      data = child.type.getData(childProps);\n    } else {\n      data = Data.getData(childProps);\n    }\n\n    return data.map(function (d) {\n      return {\n        x: d.xName,\n        y: d.yName\n      };\n    });\n  };\n\n  var initialMemo = {\n    x: [],\n    y: []\n  };\n\n  var combine = function (memo, datum) {\n    var x = Array.isArray(datum) ? datum.map(function (d) {\n      return d.x;\n    }).filter(Boolean) : datum.x;\n    var y = Array.isArray(datum) ? datum.map(function (d) {\n      return d.y;\n    }).filter(Boolean) : datum.y;\n    return {\n      x: x !== undefined ? memo.x.concat(x) : memo.x,\n      y: y !== undefined ? memo.y.concat(y) : memo.y\n    };\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee, {}, initialMemo, combine);\n}\nexport function getCategoryAndAxisStringsFromChildren(props, axis, childComponents) {\n  var categories = _isPlainObject(props.categories) ? props.categories[axis] : props.categories;\n  var axisComponent = Axis.getAxisComponent(childComponents, axis);\n  var axisStrings = axisComponent ? Data.getStringsFromAxes(axisComponent.props, axis) : [];\n  var categoryStrings = categories || getStringsFromCategories(childComponents, axis);\n  return _uniq(_flatten(_toConsumableArray(categoryStrings).concat(_toConsumableArray(axisStrings))));\n}\nexport function getStringsFromChildren(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var xStrings = getCategoryAndAxisStringsFromChildren(props, \"x\", childComponents);\n  var yStrings = getCategoryAndAxisStringsFromChildren(props, \"y\", childComponents);\n  var dataStrings = getStringsFromData(childComponents);\n  return {\n    x: _uniq(_flatten(_toConsumableArray(xStrings).concat(_toConsumableArray(dataStrings.x)))),\n    y: _uniq(_flatten(_toConsumableArray(yStrings).concat(_toConsumableArray(dataStrings.y))))\n  };\n}\nexport function getCategories(props, childComponents, allStrings) {\n  var xPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.x : props.categories;\n  var yPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.y : props.categories;\n  var fallbackRequired = !xPropCategories || !yPropCategories;\n  var fallbackProps = fallbackRequired ? allStrings || getStringsFromChildren(props, childComponents) : {};\n  var xCategories = xPropCategories || fallbackProps.x;\n  var yCategories = yPropCategories || fallbackProps.y;\n  return {\n    x: xCategories.length > 0 ? xCategories : undefined,\n    y: yCategories.length > 0 ? yCategories : undefined\n  };\n}"]},"metadata":{},"sourceType":"module"}