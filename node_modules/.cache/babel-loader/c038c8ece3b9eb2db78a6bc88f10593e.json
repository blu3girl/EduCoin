{"ast":null,"code":"import _isPlainObject from \"lodash/isPlainObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isNil from \"lodash/isNil\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\nimport { Helpers, Scale, Domain, Data, LabelHelpers, Collection } from \"victory-core\";\nvar TYPES = [\"close\", \"open\", \"high\", \"low\"];\nexport var getData = function (props) {\n  var accessorTypes = [\"x\", \"high\", \"low\", \"close\", \"open\"];\n  return Data.formatData(props.data, props, accessorTypes);\n};\n\nvar reduceData = function (dataset, axis, type) {\n  var yDataTypes = {\n    min: \"_low\",\n    max: \"_high\"\n  };\n  var dataType = axis === \"x\" ? \"_x\" : yDataTypes[type];\n  var baseCondition = type === \"min\" ? Infinity : -Infinity;\n  return dataset.reduce(function (memo, datum) {\n    var current = datum[dataType];\n    return memo < current && type === \"min\" || memo > current && type === \"max\" ? memo : current;\n  }, baseCondition);\n};\n\nvar getDomainFromData = function (props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var dataset = getData(props);\n\n  if (dataset.length < 1) {\n    return minDomain !== undefined && maxDomain !== undefined ? Domain.getDomainFromMinMax(minDomain, maxDomain) : undefined;\n  }\n\n  var min = minDomain !== undefined ? minDomain : reduceData(dataset, axis, \"min\");\n  var max = maxDomain !== undefined ? maxDomain : reduceData(dataset, axis, \"max\");\n  return Domain.getDomainFromMinMax(min, max);\n};\n\nexport var getDomain = function (props, axis) {\n  return Domain.createDomainFunction(getDomainFromData)(props, axis);\n};\n\nvar getLabelStyle = function (props, styleObject, namespace) {\n  var component = props[\"\".concat(namespace, \"LabelComponent\")];\n  var baseStyle = styleObject[\"\".concat(namespace, \"Labels\")] || styleObject.labels;\n\n  if (!Helpers.isTooltip(component)) {\n    return baseStyle;\n  }\n\n  var tooltipTheme = props.theme && props.theme.tooltip || {};\n  return _defaults({}, tooltipTheme.style, baseStyle);\n};\n\nvar getStyles = function (props, style) {\n  var defaultStyles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (props.disableInlineStyles) {\n    return {};\n  }\n\n  var width = \"100%\";\n  var height = \"100%\";\n\n  if (!style) {\n    return _defaults({\n      parent: {\n        height: height,\n        width: width\n      }\n    }, defaultStyles);\n  }\n\n  var defaultParent = defaultStyles.parent || {};\n  var defaultLabels = defaultStyles.labels || {};\n  var defaultData = defaultStyles.data || {};\n\n  var labelStyle = _defaults({}, style.labels, defaultLabels);\n\n  return {\n    parent: _defaults({}, style.parent, defaultParent, {\n      width: width,\n      height: height\n    }),\n    labels: labelStyle,\n    data: _defaults({}, style.data, defaultData),\n    openLabels: _defaults({}, style.openLabels, getLabelStyle(props, defaultStyles, \"open\"), labelStyle),\n    closeLabels: _defaults({}, style.closeLabels, getLabelStyle(props, defaultStyles, \"close\"), labelStyle),\n    lowLabels: _defaults({}, style.lowLabels, getLabelStyle(props, defaultStyles, \"low\"), labelStyle),\n    highLabels: _defaults({}, style.highLabels, getLabelStyle(props, defaultStyles, \"high\"), labelStyle)\n  };\n}; // This method will edit or remove candlestick data points that fall outside of the desired domain\n// eslint-disable-next-line complexity\n\n\nvar formatDataFromDomain = function (datum, domain) {\n  var minDomainX = Collection.getMinValue(domain.x);\n  var maxDomainX = Collection.getMaxValue(domain.x);\n  var minDomainY = Collection.getMinValue(domain.y);\n  var maxDomainY = Collection.getMaxValue(domain.y);\n  var _x = datum._x,\n      _low = datum._low,\n      _open = datum._open,\n      _close = datum._close,\n      _high = datum._high; // if _x falls outside of min or max\n\n  if (_x < minDomainX || _x > maxDomainX) _x = null; // if all values fall outside of domain, null the data point\n\n  if (_low < minDomainY && _open < minDomainY && _close < minDomainY && _high < minDomainY) _low = _open = _close = _high = null;\n  if (_low > maxDomainY && _open > maxDomainY && _close > maxDomainY && _high > maxDomainY) _low = _open = _close = _high = null;\n  return Object.assign({}, datum, {\n    _x: _x,\n    _low: _low,\n    _open: _open,\n    _close: _close,\n    _high: _high\n  });\n};\n\nvar getCalculatedValues = function (props) {\n  var polar = props.polar;\n  var defaultStyle = Helpers.getDefaultStyles(props, \"candlestick\");\n  var style = getStyles(props, props.style, defaultStyle);\n  var data = getData(props);\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var domain = {\n    x: getDomain(props, \"x\"),\n    y: getDomain(props, \"y\")\n  };\n  var scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var origin = polar ? props.origin || Helpers.getPolarOrigin(props) : undefined;\n  var defaultOrientation = props.horizontal ? \"top\" : \"right\";\n  var labelOrientation = props.labelOrientation || defaultOrientation;\n  return {\n    domain: domain,\n    data: data,\n    scale: scale,\n    style: style,\n    origin: origin,\n    labelOrientation: labelOrientation\n  };\n};\n\nvar isTransparent = function (attr) {\n  return attr === \"none\" || attr === \"transparent\";\n};\n\nvar getDataStyles = function (datum, style, props) {\n  if (props.disableInlineStyles) {\n    return {};\n  }\n\n  style = style || {};\n  var candleColor = datum._open > datum._close ? props.candleColors.negative : props.candleColors.positive;\n  var fill = style.fill || candleColor;\n  var strokeColor = style.stroke;\n  var stroke = isTransparent(strokeColor) ? fill : strokeColor || \"black\";\n  return _assign({}, style, {\n    stroke: stroke,\n    fill: fill\n  });\n};\n\nvar getText = function (props, type) {\n  var datum = props.datum,\n      index = props.index,\n      labels = props.labels;\n  var propName = \"\".concat(type, \"Labels\");\n  var labelProp = props[propName];\n\n  if (!labelProp && !labels) {\n    return null;\n  } else if (labelProp === true || labels === true) {\n    var dataName = \"_\".concat(type);\n    return \"\".concat(datum[dataName]);\n  }\n\n  return Array.isArray(labelProp) ? labelProp[index] : labelProp;\n};\n\nvar getCandleWidth = function (props, style) {\n  var data = props.data,\n      candleWidth = props.candleWidth,\n      scale = props.scale,\n      defaultCandleWidth = props.defaultCandleWidth;\n\n  if (candleWidth) {\n    return _isFunction(candleWidth) ? Helpers.evaluateProp(candleWidth, props) : candleWidth;\n  } else if (style && style.width) {\n    return style.width;\n  }\n\n  var range = scale.x.range();\n  var extent = Math.abs(range[1] - range[0]);\n  var candles = data.length + 2;\n  var candleRatio = props.candleRatio || 0.5;\n  var defaultWidth = candleRatio * (data.length < 2 ? defaultCandleWidth : extent / candles);\n  return Math.max(1, defaultWidth);\n};\n\nvar getOrientation = function (labelOrientation) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"labels\";\n  return _isPlainObject(labelOrientation) ? labelOrientation[type] : labelOrientation;\n};\n/* eslint-disable complexity*/\n\n\nvar calculatePlotValues = function (props) {\n  var positions = props.positions,\n      labelStyle = props.labelStyle,\n      x = props.x,\n      horizontal = props.horizontal,\n      computedType = props.computedType,\n      candleWidth = props.candleWidth,\n      orientation = props.orientation;\n  positions.labels = (positions.open + positions.close) / 2;\n  var signX = orientation === \"left\" ? -1 : 1;\n  var signY = orientation === \"top\" ? -1 : 1;\n\n  if (horizontal) {\n    var yValue = x;\n    var xValue = positions[computedType];\n    var dy = orientation === \"top\" || orientation === \"bottom\" ? signY * (candleWidth / 2) + signY * (labelStyle.padding || 0) : 0;\n    var dx = orientation === \"top\" || orientation === \"bottom\" ? 0 : signX * (labelStyle.padding || 1);\n    return {\n      yValue: yValue,\n      xValue: xValue,\n      dx: dx,\n      dy: dy\n    };\n  } else {\n    var _xValue = x;\n    var _yValue = positions[computedType];\n\n    var _dy = orientation === \"top\" || orientation === \"bottom\" ? signY * (labelStyle.padding || 1) : 0;\n\n    var _dx = orientation === \"top\" || orientation === \"bottom\" ? 0 : signX * (candleWidth / 2) + signX * (labelStyle.padding || 0);\n\n    return {\n      yValue: _yValue,\n      xValue: _xValue,\n      dx: _dx,\n      dy: _dy\n    };\n  }\n};\n/* eslint-enable complexity*/\n\n/* eslint-disable max-params*/\n\n\nvar getLabelProps = function (props, text, style, type) {\n  var x = props.x,\n      high = props.high,\n      low = props.low,\n      open = props.open,\n      close = props.close,\n      index = props.index,\n      scale = props.scale,\n      datum = props.datum,\n      data = props.data,\n      horizontal = props.horizontal,\n      candleWidth = props.candleWidth,\n      labelOrientation = props.labelOrientation,\n      theme = props.theme;\n  var component = props[\"\".concat(type, \"LabelComponent\")] || props.labelComponent;\n  var defaultOrientation = horizontal ? \"top\" : \"right\";\n  var orientation = component.props && component.props.orientation || getOrientation(labelOrientation, type) || defaultOrientation;\n  var positions = {\n    high: high,\n    low: low,\n    open: open,\n    close: close\n  };\n  var namespace = type ? \"\".concat(type, \"Labels\") : \"labels\";\n  var labelStyle = style[namespace] || style.labels;\n  var defaultVerticalAnchors = {\n    top: \"end\",\n    bottom: \"start\",\n    left: \"middle\",\n    right: \"middle\"\n  };\n  var defaultTextAnchors = {\n    left: \"end\",\n    right: \"start\",\n    top: \"middle\",\n    bottom: \"middle\"\n  };\n  var computedType = type ? type : \"labels\";\n  var plotProps = {\n    positions: positions,\n    labelStyle: labelStyle,\n    x: x,\n    horizontal: horizontal,\n    computedType: computedType,\n    candleWidth: candleWidth,\n    orientation: orientation\n  };\n\n  var _calculatePlotValues = calculatePlotValues(plotProps),\n      yValue = _calculatePlotValues.yValue,\n      xValue = _calculatePlotValues.xValue,\n      dx = _calculatePlotValues.dx,\n      dy = _calculatePlotValues.dy;\n\n  var labelProps = {\n    style: labelStyle,\n    y: yValue,\n    x: xValue,\n    dx: dx,\n    dy: dy,\n    text: text,\n    index: index,\n    scale: scale,\n    datum: datum,\n    data: data,\n    orientation: orientation,\n    textAnchor: labelStyle.textAnchor || defaultTextAnchors[orientation],\n    verticalAnchor: labelStyle.verticalAnchor || defaultVerticalAnchors[orientation],\n    angle: labelStyle.angle,\n    horizontal: horizontal\n  };\n\n  if (!Helpers.isTooltip(component)) {\n    return labelProps;\n  }\n\n  var tooltipTheme = theme && theme.tooltip || {};\n  return _defaults({}, labelProps, Helpers.omit(tooltipTheme, [\"style\"]));\n};\n/* eslint-enable max-params*/\n\n\nexport var getBaseProps = function (props, fallbackProps) {\n  // eslint-disable-line max-statements\n  props = Helpers.modifyProps(props, fallbackProps, \"candlestick\");\n  var calculatedValues = getCalculatedValues(props);\n  var data = calculatedValues.data,\n      style = calculatedValues.style,\n      scale = calculatedValues.scale,\n      domain = calculatedValues.domain,\n      origin = calculatedValues.origin,\n      labelOrientation = calculatedValues.labelOrientation;\n  var _props = props,\n      groupComponent = _props.groupComponent,\n      width = _props.width,\n      height = _props.height,\n      padding = _props.padding,\n      standalone = _props.standalone,\n      name = _props.name,\n      candleWidth = _props.candleWidth,\n      candleRatio = _props.candleRatio,\n      theme = _props.theme,\n      polar = _props.polar,\n      wickStrokeWidth = _props.wickStrokeWidth,\n      labels = _props.labels,\n      events = _props.events,\n      sharedEvents = _props.sharedEvents,\n      horizontal = _props.horizontal,\n      disableInlineStyles = _props.disableInlineStyles;\n  var initialChildProps = {\n    parent: {\n      domain: domain,\n      scale: scale,\n      width: width,\n      height: height,\n      data: data,\n      standalone: standalone,\n      theme: theme,\n      polar: polar,\n      origin: origin,\n      name: name,\n      style: style.parent,\n      padding: padding,\n      horizontal: horizontal\n    }\n  }; // eslint-disable-next-line complexity\n\n  return data.reduce(function (childProps, datum, index) {\n    var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n    var x = scale.x(datum._x1 !== undefined ? datum._x1 : datum._x);\n    datum = formatDataFromDomain(datum, domain);\n    var _datum = datum,\n        _low = _datum._low,\n        _open = _datum._open,\n        _close = _datum._close,\n        _high = _datum._high;\n    var high = scale.y(_high);\n    var close = scale.y(_close);\n    var open = scale.y(_open);\n    var low = scale.y(_low);\n    var dataStyle = getDataStyles(datum, style.data, props);\n    var dataProps = {\n      x: x,\n      high: high,\n      low: low,\n      candleWidth: candleWidth,\n      candleRatio: candleRatio,\n      scale: scale,\n      data: data,\n      datum: datum,\n      groupComponent: groupComponent,\n      index: index,\n      style: dataStyle,\n      width: width,\n      polar: polar,\n      origin: origin,\n      wickStrokeWidth: wickStrokeWidth,\n      open: open,\n      close: close,\n      horizontal: horizontal,\n      labelOrientation: labelOrientation,\n      disableInlineStyles: disableInlineStyles\n    };\n    dataProps.candleWidth = getCandleWidth(dataProps);\n\n    var extendedProps = _defaults(Object.assign({}, dataProps), props);\n\n    childProps[eventKey] = {\n      data: dataProps\n    };\n\n    if (labels) {\n      var text = LabelHelpers.getText(props, datum, index);\n\n      if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n        childProps[eventKey].labels = getLabelProps(extendedProps, text, style);\n      }\n    }\n\n    TYPES.forEach(function (type) {\n      var labelText = getText(extendedProps, type);\n      var labelProp = props.labels || props[\"\".concat(type, \"Labels\")];\n\n      if (labelText !== null && labelText !== undefined || labelProp && (events || sharedEvents)) {\n        var target = \"\".concat(type, \"Labels\");\n        childProps[eventKey][target] = getLabelProps(extendedProps, labelText, style, type);\n      }\n    });\n    return childProps;\n  }, initialChildProps);\n};","map":{"version":3,"sources":["/Users/paulhinh/dev/tamuhack/EduCoin/node_modules/victory-candlestick/es/helper-methods.js"],"names":["_isPlainObject","_isFunction","_isNil","_defaults","_assign","Helpers","Scale","Domain","Data","LabelHelpers","Collection","TYPES","getData","props","accessorTypes","formatData","data","reduceData","dataset","axis","type","yDataTypes","min","max","dataType","baseCondition","Infinity","reduce","memo","datum","current","getDomainFromData","minDomain","getMinFromProps","maxDomain","getMaxFromProps","length","undefined","getDomainFromMinMax","getDomain","createDomainFunction","getLabelStyle","styleObject","namespace","component","concat","baseStyle","labels","isTooltip","tooltipTheme","theme","tooltip","style","getStyles","defaultStyles","arguments","disableInlineStyles","width","height","parent","defaultParent","defaultLabels","defaultData","labelStyle","openLabels","closeLabels","lowLabels","highLabels","formatDataFromDomain","domain","minDomainX","getMinValue","x","maxDomainX","getMaxValue","minDomainY","y","maxDomainY","_x","_low","_open","_close","_high","Object","assign","getCalculatedValues","polar","defaultStyle","getDefaultStyles","range","getRange","scale","getBaseScale","horizontal","origin","getPolarOrigin","defaultOrientation","labelOrientation","isTransparent","attr","getDataStyles","candleColor","candleColors","negative","positive","fill","strokeColor","stroke","getText","index","propName","labelProp","dataName","Array","isArray","getCandleWidth","candleWidth","defaultCandleWidth","evaluateProp","extent","Math","abs","candles","candleRatio","defaultWidth","getOrientation","calculatePlotValues","positions","computedType","orientation","open","close","signX","signY","yValue","xValue","dy","padding","dx","_xValue","_yValue","_dy","_dx","getLabelProps","text","high","low","labelComponent","defaultVerticalAnchors","top","bottom","left","right","defaultTextAnchors","plotProps","_calculatePlotValues","labelProps","textAnchor","verticalAnchor","angle","omit","getBaseProps","fallbackProps","modifyProps","calculatedValues","_props","groupComponent","standalone","name","wickStrokeWidth","events","sharedEvents","initialChildProps","childProps","eventKey","_x1","_datum","dataStyle","dataProps","extendedProps","forEach","labelText","target"],"mappings":"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","sourcesContent":["import _isPlainObject from \"lodash/isPlainObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isNil from \"lodash/isNil\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\nimport { Helpers, Scale, Domain, Data, LabelHelpers, Collection } from \"victory-core\";\nvar TYPES = [\"close\", \"open\", \"high\", \"low\"];\nexport var getData = function (props) {\n  var accessorTypes = [\"x\", \"high\", \"low\", \"close\", \"open\"];\n  return Data.formatData(props.data, props, accessorTypes);\n};\n\nvar reduceData = function (dataset, axis, type) {\n  var yDataTypes = {\n    min: \"_low\",\n    max: \"_high\"\n  };\n  var dataType = axis === \"x\" ? \"_x\" : yDataTypes[type];\n  var baseCondition = type === \"min\" ? Infinity : -Infinity;\n  return dataset.reduce(function (memo, datum) {\n    var current = datum[dataType];\n    return memo < current && type === \"min\" || memo > current && type === \"max\" ? memo : current;\n  }, baseCondition);\n};\n\nvar getDomainFromData = function (props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var dataset = getData(props);\n\n  if (dataset.length < 1) {\n    return minDomain !== undefined && maxDomain !== undefined ? Domain.getDomainFromMinMax(minDomain, maxDomain) : undefined;\n  }\n\n  var min = minDomain !== undefined ? minDomain : reduceData(dataset, axis, \"min\");\n  var max = maxDomain !== undefined ? maxDomain : reduceData(dataset, axis, \"max\");\n  return Domain.getDomainFromMinMax(min, max);\n};\n\nexport var getDomain = function (props, axis) {\n  return Domain.createDomainFunction(getDomainFromData)(props, axis);\n};\n\nvar getLabelStyle = function (props, styleObject, namespace) {\n  var component = props[\"\".concat(namespace, \"LabelComponent\")];\n  var baseStyle = styleObject[\"\".concat(namespace, \"Labels\")] || styleObject.labels;\n\n  if (!Helpers.isTooltip(component)) {\n    return baseStyle;\n  }\n\n  var tooltipTheme = props.theme && props.theme.tooltip || {};\n  return _defaults({}, tooltipTheme.style, baseStyle);\n};\n\nvar getStyles = function (props, style) {\n  var defaultStyles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (props.disableInlineStyles) {\n    return {};\n  }\n\n  var width = \"100%\";\n  var height = \"100%\";\n\n  if (!style) {\n    return _defaults({\n      parent: {\n        height: height,\n        width: width\n      }\n    }, defaultStyles);\n  }\n\n  var defaultParent = defaultStyles.parent || {};\n  var defaultLabels = defaultStyles.labels || {};\n  var defaultData = defaultStyles.data || {};\n\n  var labelStyle = _defaults({}, style.labels, defaultLabels);\n\n  return {\n    parent: _defaults({}, style.parent, defaultParent, {\n      width: width,\n      height: height\n    }),\n    labels: labelStyle,\n    data: _defaults({}, style.data, defaultData),\n    openLabels: _defaults({}, style.openLabels, getLabelStyle(props, defaultStyles, \"open\"), labelStyle),\n    closeLabels: _defaults({}, style.closeLabels, getLabelStyle(props, defaultStyles, \"close\"), labelStyle),\n    lowLabels: _defaults({}, style.lowLabels, getLabelStyle(props, defaultStyles, \"low\"), labelStyle),\n    highLabels: _defaults({}, style.highLabels, getLabelStyle(props, defaultStyles, \"high\"), labelStyle)\n  };\n}; // This method will edit or remove candlestick data points that fall outside of the desired domain\n// eslint-disable-next-line complexity\n\n\nvar formatDataFromDomain = function (datum, domain) {\n  var minDomainX = Collection.getMinValue(domain.x);\n  var maxDomainX = Collection.getMaxValue(domain.x);\n  var minDomainY = Collection.getMinValue(domain.y);\n  var maxDomainY = Collection.getMaxValue(domain.y);\n  var _x = datum._x,\n      _low = datum._low,\n      _open = datum._open,\n      _close = datum._close,\n      _high = datum._high; // if _x falls outside of min or max\n\n  if (_x < minDomainX || _x > maxDomainX) _x = null; // if all values fall outside of domain, null the data point\n\n  if (_low < minDomainY && _open < minDomainY && _close < minDomainY && _high < minDomainY) _low = _open = _close = _high = null;\n  if (_low > maxDomainY && _open > maxDomainY && _close > maxDomainY && _high > maxDomainY) _low = _open = _close = _high = null;\n  return Object.assign({}, datum, {\n    _x: _x,\n    _low: _low,\n    _open: _open,\n    _close: _close,\n    _high: _high\n  });\n};\n\nvar getCalculatedValues = function (props) {\n  var polar = props.polar;\n  var defaultStyle = Helpers.getDefaultStyles(props, \"candlestick\");\n  var style = getStyles(props, props.style, defaultStyle);\n  var data = getData(props);\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var domain = {\n    x: getDomain(props, \"x\"),\n    y: getDomain(props, \"y\")\n  };\n  var scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var origin = polar ? props.origin || Helpers.getPolarOrigin(props) : undefined;\n  var defaultOrientation = props.horizontal ? \"top\" : \"right\";\n  var labelOrientation = props.labelOrientation || defaultOrientation;\n  return {\n    domain: domain,\n    data: data,\n    scale: scale,\n    style: style,\n    origin: origin,\n    labelOrientation: labelOrientation\n  };\n};\n\nvar isTransparent = function (attr) {\n  return attr === \"none\" || attr === \"transparent\";\n};\n\nvar getDataStyles = function (datum, style, props) {\n  if (props.disableInlineStyles) {\n    return {};\n  }\n\n  style = style || {};\n  var candleColor = datum._open > datum._close ? props.candleColors.negative : props.candleColors.positive;\n  var fill = style.fill || candleColor;\n  var strokeColor = style.stroke;\n  var stroke = isTransparent(strokeColor) ? fill : strokeColor || \"black\";\n  return _assign({}, style, {\n    stroke: stroke,\n    fill: fill\n  });\n};\n\nvar getText = function (props, type) {\n  var datum = props.datum,\n      index = props.index,\n      labels = props.labels;\n  var propName = \"\".concat(type, \"Labels\");\n  var labelProp = props[propName];\n\n  if (!labelProp && !labels) {\n    return null;\n  } else if (labelProp === true || labels === true) {\n    var dataName = \"_\".concat(type);\n    return \"\".concat(datum[dataName]);\n  }\n\n  return Array.isArray(labelProp) ? labelProp[index] : labelProp;\n};\n\nvar getCandleWidth = function (props, style) {\n  var data = props.data,\n      candleWidth = props.candleWidth,\n      scale = props.scale,\n      defaultCandleWidth = props.defaultCandleWidth;\n\n  if (candleWidth) {\n    return _isFunction(candleWidth) ? Helpers.evaluateProp(candleWidth, props) : candleWidth;\n  } else if (style && style.width) {\n    return style.width;\n  }\n\n  var range = scale.x.range();\n  var extent = Math.abs(range[1] - range[0]);\n  var candles = data.length + 2;\n  var candleRatio = props.candleRatio || 0.5;\n  var defaultWidth = candleRatio * (data.length < 2 ? defaultCandleWidth : extent / candles);\n  return Math.max(1, defaultWidth);\n};\n\nvar getOrientation = function (labelOrientation) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"labels\";\n  return _isPlainObject(labelOrientation) ? labelOrientation[type] : labelOrientation;\n};\n/* eslint-disable complexity*/\n\n\nvar calculatePlotValues = function (props) {\n  var positions = props.positions,\n      labelStyle = props.labelStyle,\n      x = props.x,\n      horizontal = props.horizontal,\n      computedType = props.computedType,\n      candleWidth = props.candleWidth,\n      orientation = props.orientation;\n  positions.labels = (positions.open + positions.close) / 2;\n  var signX = orientation === \"left\" ? -1 : 1;\n  var signY = orientation === \"top\" ? -1 : 1;\n\n  if (horizontal) {\n    var yValue = x;\n    var xValue = positions[computedType];\n    var dy = orientation === \"top\" || orientation === \"bottom\" ? signY * (candleWidth / 2) + signY * (labelStyle.padding || 0) : 0;\n    var dx = orientation === \"top\" || orientation === \"bottom\" ? 0 : signX * (labelStyle.padding || 1);\n    return {\n      yValue: yValue,\n      xValue: xValue,\n      dx: dx,\n      dy: dy\n    };\n  } else {\n    var _xValue = x;\n    var _yValue = positions[computedType];\n\n    var _dy = orientation === \"top\" || orientation === \"bottom\" ? signY * (labelStyle.padding || 1) : 0;\n\n    var _dx = orientation === \"top\" || orientation === \"bottom\" ? 0 : signX * (candleWidth / 2) + signX * (labelStyle.padding || 0);\n\n    return {\n      yValue: _yValue,\n      xValue: _xValue,\n      dx: _dx,\n      dy: _dy\n    };\n  }\n};\n/* eslint-enable complexity*/\n\n/* eslint-disable max-params*/\n\n\nvar getLabelProps = function (props, text, style, type) {\n  var x = props.x,\n      high = props.high,\n      low = props.low,\n      open = props.open,\n      close = props.close,\n      index = props.index,\n      scale = props.scale,\n      datum = props.datum,\n      data = props.data,\n      horizontal = props.horizontal,\n      candleWidth = props.candleWidth,\n      labelOrientation = props.labelOrientation,\n      theme = props.theme;\n  var component = props[\"\".concat(type, \"LabelComponent\")] || props.labelComponent;\n  var defaultOrientation = horizontal ? \"top\" : \"right\";\n  var orientation = component.props && component.props.orientation || getOrientation(labelOrientation, type) || defaultOrientation;\n  var positions = {\n    high: high,\n    low: low,\n    open: open,\n    close: close\n  };\n  var namespace = type ? \"\".concat(type, \"Labels\") : \"labels\";\n  var labelStyle = style[namespace] || style.labels;\n  var defaultVerticalAnchors = {\n    top: \"end\",\n    bottom: \"start\",\n    left: \"middle\",\n    right: \"middle\"\n  };\n  var defaultTextAnchors = {\n    left: \"end\",\n    right: \"start\",\n    top: \"middle\",\n    bottom: \"middle\"\n  };\n  var computedType = type ? type : \"labels\";\n  var plotProps = {\n    positions: positions,\n    labelStyle: labelStyle,\n    x: x,\n    horizontal: horizontal,\n    computedType: computedType,\n    candleWidth: candleWidth,\n    orientation: orientation\n  };\n\n  var _calculatePlotValues = calculatePlotValues(plotProps),\n      yValue = _calculatePlotValues.yValue,\n      xValue = _calculatePlotValues.xValue,\n      dx = _calculatePlotValues.dx,\n      dy = _calculatePlotValues.dy;\n\n  var labelProps = {\n    style: labelStyle,\n    y: yValue,\n    x: xValue,\n    dx: dx,\n    dy: dy,\n    text: text,\n    index: index,\n    scale: scale,\n    datum: datum,\n    data: data,\n    orientation: orientation,\n    textAnchor: labelStyle.textAnchor || defaultTextAnchors[orientation],\n    verticalAnchor: labelStyle.verticalAnchor || defaultVerticalAnchors[orientation],\n    angle: labelStyle.angle,\n    horizontal: horizontal\n  };\n\n  if (!Helpers.isTooltip(component)) {\n    return labelProps;\n  }\n\n  var tooltipTheme = theme && theme.tooltip || {};\n  return _defaults({}, labelProps, Helpers.omit(tooltipTheme, [\"style\"]));\n};\n/* eslint-enable max-params*/\n\n\nexport var getBaseProps = function (props, fallbackProps) {\n  // eslint-disable-line max-statements\n  props = Helpers.modifyProps(props, fallbackProps, \"candlestick\");\n  var calculatedValues = getCalculatedValues(props);\n  var data = calculatedValues.data,\n      style = calculatedValues.style,\n      scale = calculatedValues.scale,\n      domain = calculatedValues.domain,\n      origin = calculatedValues.origin,\n      labelOrientation = calculatedValues.labelOrientation;\n  var _props = props,\n      groupComponent = _props.groupComponent,\n      width = _props.width,\n      height = _props.height,\n      padding = _props.padding,\n      standalone = _props.standalone,\n      name = _props.name,\n      candleWidth = _props.candleWidth,\n      candleRatio = _props.candleRatio,\n      theme = _props.theme,\n      polar = _props.polar,\n      wickStrokeWidth = _props.wickStrokeWidth,\n      labels = _props.labels,\n      events = _props.events,\n      sharedEvents = _props.sharedEvents,\n      horizontal = _props.horizontal,\n      disableInlineStyles = _props.disableInlineStyles;\n  var initialChildProps = {\n    parent: {\n      domain: domain,\n      scale: scale,\n      width: width,\n      height: height,\n      data: data,\n      standalone: standalone,\n      theme: theme,\n      polar: polar,\n      origin: origin,\n      name: name,\n      style: style.parent,\n      padding: padding,\n      horizontal: horizontal\n    }\n  }; // eslint-disable-next-line complexity\n\n  return data.reduce(function (childProps, datum, index) {\n    var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n    var x = scale.x(datum._x1 !== undefined ? datum._x1 : datum._x);\n    datum = formatDataFromDomain(datum, domain);\n    var _datum = datum,\n        _low = _datum._low,\n        _open = _datum._open,\n        _close = _datum._close,\n        _high = _datum._high;\n    var high = scale.y(_high);\n    var close = scale.y(_close);\n    var open = scale.y(_open);\n    var low = scale.y(_low);\n    var dataStyle = getDataStyles(datum, style.data, props);\n    var dataProps = {\n      x: x,\n      high: high,\n      low: low,\n      candleWidth: candleWidth,\n      candleRatio: candleRatio,\n      scale: scale,\n      data: data,\n      datum: datum,\n      groupComponent: groupComponent,\n      index: index,\n      style: dataStyle,\n      width: width,\n      polar: polar,\n      origin: origin,\n      wickStrokeWidth: wickStrokeWidth,\n      open: open,\n      close: close,\n      horizontal: horizontal,\n      labelOrientation: labelOrientation,\n      disableInlineStyles: disableInlineStyles\n    };\n    dataProps.candleWidth = getCandleWidth(dataProps);\n\n    var extendedProps = _defaults(Object.assign({}, dataProps), props);\n\n    childProps[eventKey] = {\n      data: dataProps\n    };\n\n    if (labels) {\n      var text = LabelHelpers.getText(props, datum, index);\n\n      if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n        childProps[eventKey].labels = getLabelProps(extendedProps, text, style);\n      }\n    }\n\n    TYPES.forEach(function (type) {\n      var labelText = getText(extendedProps, type);\n      var labelProp = props.labels || props[\"\".concat(type, \"Labels\")];\n\n      if (labelText !== null && labelText !== undefined || labelProp && (events || sharedEvents)) {\n        var target = \"\".concat(type, \"Labels\");\n        childProps[eventKey][target] = getLabelProps(extendedProps, labelText, style, type);\n      }\n    });\n    return childProps;\n  }, initialChildProps);\n};"]},"metadata":{},"sourceType":"module"}